GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
[1] becomes leader
[1] with lastIdx 6 send hb to peers [1 2 3 4 5] 6 6 6 6
[1] with lastIdx 6 send hb to peers [1 2 3 4 5] 6 6 6 6
[1] with lastIdx 6 send hb to peers [1 2 3 4 5] 6 6 6 6
[1] with lastIdx 6 send hb to peers [1 2 3 4 5] 6 6 6 6
[1] with lastIdx 6 send hb to peers [1 2 3 4 5] 6 6 6 6
[1] with lastIdx 30 send hb to peers [1 2 3 4 5] 27 27 27 27
[1] with lastIdx 40 send hb to peers [1 2 3 4 5] 37 37 37 37
[1] with lastIdx 50 send hb to peers [1 2 3 4 5] 48 48 48 48
[1] with lastIdx 64 send hb to peers [1 2 3 4 5] 59 48 59 48
[1] with lastIdx 78 send hb to peers [1 2 3 4 5] 77 48 76 48
[1] with lastIdx 102 send hb to peers [1 2 3 4 5] 101 48 101 48
[1] with lastIdx 126 send hb to peers [1 2 3 4 5] 123 48 123 48
[1] with lastIdx 146 send hb to peers [1 2 3 4 5] 142 48 143 48
[1] with lastIdx 168 send hb to peers [1 2 3 4 5] 166 48 165 48
[1] with lastIdx 178 send hb to peers [1 2 3 4 5] 178 48 175 48
[2] becomes leader
[2] with lastIdx 179 send hb to peers [1 2 3 4 5] 5 5 5 5
[5] receives snapshot from [2]
[2] with lastIdx 184 send hb to peers [1 2 3 4 5] 5 5 5 5
[3] receives snapshot from [2]
[2] with lastIdx 184 send hb to peers [1 2 3 4 5] 5 5 5 184
[2] with lastIdx 208 send hb to peers [1 2 3 4 5] 5 204 204 184
[2] with lastIdx 237 send hb to peers [1 2 3 4 5] 5 235 235 184
[2] with lastIdx 263 send hb to peers [1 2 3 4 5] 5 259 259 184
[2] with lastIdx 289 send hb to peers [1 2 3 4 5] 5 285 285 184
[2] with lastIdx 315 send hb to peers [1 2 3 4 5] 5 312 313 184
[1] receives snapshot from [2]
[2] with lastIdx 343 send hb to peers [1 2 3 4 5] 342 340 342 184
[2] with lastIdx 365 send hb to peers [1 2 3 4 5] 362 363 363 184
[2] with lastIdx 392 send hb to peers [1 2 3 4 5] 389 389 389 184
[2] with lastIdx 419 send hb to peers [1 2 3 4 5] 418 418 418 184
[2] with lastIdx 452 send hb to peers [1 2 3 4 5] 448 449 448 184
[2] with lastIdx 482 send hb to peers [1 2 3 4 5] 482 478 481 184
[2] with lastIdx 513 send hb to peers [1 2 3 4 5] 508 510 510 184
[2] with lastIdx 515 send hb to peers [1 2 3 4 5] 508 510 515 184
[2] with lastIdx 515 send hb to peers [1 2 3 4 5] 508 510 515 184
[2] with lastIdx 515 send hb to peers [1 2 3 4 5] 508 510 515 184
[2] with lastIdx 515 send hb to peers [1 2 3 4 5] 508 510 515 184
[2] with lastIdx 515 send hb to peers [1 2 3 4 5] 508 510 515 184
[2] with lastIdx 515 send hb to peers [1 2 3 4 5] 508 510 515 184
[2] with lastIdx 515 send hb to peers [1 2 3 4 5] 508 510 515 184
[2] with lastIdx 515 send hb to peers [1 2 3 4 5] 508 510 515 184
[2] with lastIdx 515 send hb to peers [1 2 3 4 5] 508 510 515 184
[3] becomes leader
[2] with lastIdx 516 send hb to peers [1 2 3 4 5] 508 510 515 184
[3] with lastIdx 515 send hb to peers [1 2 3 4 5] 515 173 173 173
[2] with lastIdx 516 send hb to peers [1 2 3 4 5] 508 510 516 184
[3] with lastIdx 515 send hb to peers [1 2 3 4 5] 515 173 173 173
[2] with lastIdx 516 send hb to peers [1 2 3 4 5] 508 510 516 184
[3] with lastIdx 515 send hb to peers [1 2 3 4 5] 515 173 173 173
[5] receives snapshot from [3]
[2] with lastIdx 516 send hb to peers [1 2 3 4 5] 508 510 516 184
[3] with lastIdx 515 send hb to peers [1 2 3 4 5] 515 173 173 173
[3] with lastIdx 515 send hb to peers [1 2 3 4 5] 515 173 173 515
[3] with lastIdx 515 send hb to peers [1 2 3 4 5] 515 173 173 515
[3] with lastIdx 515 send hb to peers [1 2 3 4 5] 515 173 173 515
[3] with lastIdx 515 send hb to peers [1 2 3 4 5] 515 173 173 515
[3] with lastIdx 515 send hb to peers [1 2 3 4 5] 515 173 173 515
[3] with lastIdx 515 send hb to peers [1 2 3 4 5] 515 173 173 515
[3] with lastIdx 516 send hb to peers [1 2 3 4 5] 516 516 516 516
[3] with lastIdx 516 send hb to peers [1 2 3 4 5] 516 516 516 516
[3] with lastIdx 516 send hb to peers [1 2 3 4 5] 516 516 516 516
read from clients 0
[3] becomes leader
[3] with lastIdx 526 send hb to peers [1 2 3 4 5] 525 525 525 524
[3] with lastIdx 534 send hb to peers [1 2 3 4 5] 533 533 533 533
[3] with lastIdx 543 send hb to peers [1 2 3 4 5] 543 543 542 542
[3] with lastIdx 551 send hb to peers [1 2 3 4 5] 550 551 551 551
[3] with lastIdx 559 send hb to peers [1 2 3 4 5] 558 558 558 559
[3] with lastIdx 566 send hb to peers [1 2 3 4 5] 565 565 565 565
read from clients 1
[3] with lastIdx 572 send hb to peers [1 2 3 4 5] 571 571 571 571
[3] with lastIdx 578 send hb to peers [1 2 3 4 5] 578 578 578 578
[3] with lastIdx 585 send hb to peers [1 2 3 4 5] 584 584 584 584
[3] with lastIdx 591 send hb to peers [1 2 3 4 5] 590 590 590 590
[3] with lastIdx 596 send hb to peers [1 2 3 4 5] 595 595 595 595
[3] with lastIdx 601 send hb to peers [1 2 3 4 5] 600 600 600 600
[3] with lastIdx 606 send hb to peers [1 2 3 4 5] 606 605 606 606
[3] with lastIdx 611 send hb to peers [1 2 3 4 5] 611 610 611 610
[3] with lastIdx 616 send hb to peers [1 2 3 4 5] 615 615 615 615
read from clients 2
[3] with lastIdx 622 send hb to peers [1 2 3 4 5] 621 621 621 621
[3] with lastIdx 627 send hb to peers [1 2 3 4 5] 626 626 626 626
[3] with lastIdx 632 send hb to peers [1 2 3 4 5] 631 631 631 631
[3] with lastIdx 637 send hb to peers [1 2 3 4 5] 637 636 636 637
[3] with lastIdx 643 send hb to peers [1 2 3 4 5] 642 642 642 642
[3] with lastIdx 649 send hb to peers [1 2 3 4 5] 648 648 648 648
[3] with lastIdx 654 send hb to peers [1 2 3 4 5] 653 653 653 653
[3] with lastIdx 658 send hb to peers [1 2 3 4 5] 658 658 658 658
[3] with lastIdx 663 send hb to peers [1 2 3 4 5] 663 663 663 663
[3] with lastIdx 669 send hb to peers [1 2 3 4 5] 668 668 668 668
read from clients 3
[3] with lastIdx 674 send hb to peers [1 2 3 4 5] 673 673 673 673
[3] with lastIdx 679 send hb to peers [1 2 3 4 5] 678 678 678 678
[3] with lastIdx 685 send hb to peers [1 2 3 4 5] 684 684 684 684
[3] with lastIdx 690 send hb to peers [1 2 3 4 5] 690 690 690 690
[3] with lastIdx 697 send hb to peers [1 2 3 4 5] 696 696 696 696
[3] with lastIdx 704 send hb to peers [1 2 3 4 5] 704 704 704 704
[3] with lastIdx 710 send hb to peers [1 2 3 4 5] 709 709 709 709
[3] with lastIdx 716 send hb to peers [1 2 3 4 5] 716 715 715 716
read from clients 4
[3] with lastIdx 722 send hb to peers [1 2 3 4 5] 721 721 721 721
[3] with lastIdx 730 send hb to peers [1 2 3 4 5] 729 729 729 729
[3] with lastIdx 736 send hb to peers [1 2 3 4 5] 735 735 735 735
[3] with lastIdx 742 send hb to peers [1 2 3 4 5] 741 741 741 741
[3] with lastIdx 749 send hb to peers [1 2 3 4 5] 749 749 748 749
[3] with lastIdx 756 send hb to peers [1 2 3 4 5] 755 756 755 756
[3] with lastIdx 763 send hb to peers [1 2 3 4 5] 762 762 762 762
[3] with lastIdx 765 send hb to peers [1 2 3 4 5] 765 765 765 765
[3] with lastIdx 765 send hb to peers [1 2 3 4 5] 765 765 765 765
[3] with lastIdx 765 send hb to peers [1 2 3 4 5] 765 765 765 765
[3] with lastIdx 765 send hb to peers [1 2 3 4 5] 765 765 765 765
[3] with lastIdx 765 send hb to peers [1 2 3 4 5] 765 765 765 765
[3] with lastIdx 765 send hb to peers [1 2 3 4 5] 765 765 765 765
[3] with lastIdx 765 send hb to peers [1 2 3 4 5] 765 765 765 765
[3] with lastIdx 765 send hb to peers [1 2 3 4 5] 765 765 765 765
[3] with lastIdx 765 send hb to peers [1 2 3 4 5] 765 765 765 765
[3] with lastIdx 765 send hb to peers [1 2 3 4 5] 765 765 765 765
[3] with lastIdx 785 send hb to peers [1 2 3 4 5] 782 782 782 782
[3] with lastIdx 810 send hb to peers [1 2 3 4 5] 807 805 807 807
[3] with lastIdx 829 send hb to peers [1 2 3 4 5] 827 827 827 827
[3] with lastIdx 837 send hb to peers [1 2 3 4 5] 832 836 832 832
[3] with lastIdx 837 send hb to peers [1 2 3 4 5] 832 836 832 832
[3] with lastIdx 837 send hb to peers [1 2 3 4 5] 832 836 832 832
[3] with lastIdx 837 send hb to peers [1 2 3 4 5] 832 836 832 832
[3] with lastIdx 837 send hb to peers [1 2 3 4 5] 832 836 832 832
[1] becomes leader
[1] with lastIdx 833 send hb to peers [1 2 3 4 5] 430 430 430 430
[3] with lastIdx 837 send hb to peers [1 2 3 4 5] 832 836 832 832
[1] with lastIdx 833 send hb to peers [1 2 3 4 5] 430 430 430 430
[1] with lastIdx 833 send hb to peers [1 2 3 4 5] 430 430 430 430
[1] with lastIdx 833 send hb to peers [1 2 3 4 5] 430 430 430 833
[1] with lastIdx 833 send hb to peers [1 2 3 4 5] 430 430 430 833
[1] with lastIdx 838 send hb to peers [1 2 3 4 5] 430 430 430 838
[1] with lastIdx 855 send hb to peers [1 2 3 4 5] 430 854 430 854
[1] with lastIdx 864 send hb to peers [1 2 3 4 5] 430 864 430 859
[1] with lastIdx 864 send hb to peers [1 2 3 4 5] 430 864 430 859
[1] with lastIdx 864 send hb to peers [1 2 3 4 5] 430 864 430 859
[1] with lastIdx 864 send hb to peers [1 2 3 4 5] 430 864 430 859
[1] with lastIdx 864 send hb to peers [1 2 3 4 5] 430 864 430 859
[1] with lastIdx 864 send hb to peers [1 2 3 4 5] 430 864 430 859
[1] with lastIdx 864 send hb to peers [1 2 3 4 5] 430 864 430 859
[1] with lastIdx 864 send hb to peers [1 2 3 4 5] 430 864 430 859
[3] becomes leader
[2] receives snapshot from [3]
[4] receives snapshot from [3]
[5] receives snapshot from [3]
[3] with lastIdx 881 send hb to peers [1 2 3 4 5] 875 880 879 880
[3] with lastIdx 924 send hb to peers [1 2 3 4 5] 920 922 923 923
[3] with lastIdx 955 send hb to peers [1 2 3 4 5] 951 952 952 951
[3] with lastIdx 988 send hb to peers [1 2 3 4 5] 987 985 987 987
[3] with lastIdx 1016 send hb to peers [1 2 3 4 5] 1014 1013 1014 1014
[3] with lastIdx 1049 send hb to peers [1 2 3 4 5] 1044 1046 1047 1047
[3] with lastIdx 1083 send hb to peers [1 2 3 4 5] 1044 1081 1080 1080
[3] with lastIdx 1120 send hb to peers [1 2 3 4 5] 1044 1118 1118 1118
[3] with lastIdx 1161 send hb to peers [1 2 3 4 5] 1044 1159 1159 1158
[3] with lastIdx 1210 send hb to peers [1 2 3 4 5] 1044 1209 1209 1209
[3] with lastIdx 1253 send hb to peers [1 2 3 4 5] 1044 1250 1250 1249
[3] with lastIdx 1296 send hb to peers [1 2 3 4 5] 1044 1291 1293 1291
[3] with lastIdx 1307 send hb to peers [1 2 3 4 5] 1044 1301 1302 1302
[3] with lastIdx 1307 send hb to peers [1 2 3 4 5] 1044 1301 1302 1302
[3] with lastIdx 1307 send hb to peers [1 2 3 4 5] 1044 1301 1302 1302
[3] with lastIdx 1307 send hb to peers [1 2 3 4 5] 1044 1301 1302 1302
[3] with lastIdx 1307 send hb to peers [1 2 3 4 5] 1044 1301 1302 1302
[3] with lastIdx 1307 send hb to peers [1 2 3 4 5] 1044 1301 1302 1302
[4] becomes leader
[4] with lastIdx 1305 send hb to peers [1 2 3 4 5] 859 859 859 859
[1] receives snapshot from [4]
[4] with lastIdx 1310 send hb to peers [1 2 3 4 5] 1310 1310 859 859
[4] with lastIdx 1310 send hb to peers [1 2 3 4 5] 1310 1310 859 859
[3] receives snapshot from [4]
[4] with lastIdx 1310 send hb to peers [1 2 3 4 5] 1310 1310 859 1310
[4] with lastIdx 1310 send hb to peers [1 2 3 4 5] 1310 1310 859 1310
read from clients 0
[5] becomes leader
[5] with lastIdx 1319 send hb to peers [1 2 3 4 5] 1319 1319 1319 1319
[5] with lastIdx 1332 send hb to peers [1 2 3 4 5] 1332 1330 1332 1331
[5] with lastIdx 1344 send hb to peers [1 2 3 4 5] 1344 1344 1343 1344
[5] with lastIdx 1355 send hb to peers [1 2 3 4 5] 1354 1354 1354 1354
read from clients 1
[5] with lastIdx 1366 send hb to peers [1 2 3 4 5] 1365 1365 1365 1365
[5] with lastIdx 1375 send hb to peers [1 2 3 4 5] 1375 1375 1375 1375
[5] with lastIdx 1386 send hb to peers [1 2 3 4 5] 1385 1385 1385 1385
[5] with lastIdx 1396 send hb to peers [1 2 3 4 5] 1396 1396 1396 1396
[5] with lastIdx 1408 send hb to peers [1 2 3 4 5] 1407 1407 1407 1407
read from clients 2
[5] with lastIdx 1418 send hb to peers [1 2 3 4 5] 1417 1418 1417 1418
[5] with lastIdx 1428 send hb to peers [1 2 3 4 5] 1427 1428 1427 1428
[5] with lastIdx 1437 send hb to peers [1 2 3 4 5] 1436 1436 1436 1436
[5] with lastIdx 1445 send hb to peers [1 2 3 4 5] 1444 1444 1444 1444
[5] with lastIdx 1453 send hb to peers [1 2 3 4 5] 1452 1452 1452 1452
[5] with lastIdx 1461 send hb to peers [1 2 3 4 5] 1460 1460 1460 1460
[5] with lastIdx 1468 send hb to peers [1 2 3 4 5] 1468 1468 1467 1468
read from clients 3
[5] with lastIdx 1476 send hb to peers [1 2 3 4 5] 1475 1475 1475 1475
[5] with lastIdx 1484 send hb to peers [1 2 3 4 5] 1483 1483 1483 1483
[5] with lastIdx 1492 send hb to peers [1 2 3 4 5] 1492 1491 1491 1491
[5] with lastIdx 1502 send hb to peers [1 2 3 4 5] 1501 1501 1501 1501
[5] with lastIdx 1509 send hb to peers [1 2 3 4 5] 1509 1509 1509 1509
[5] with lastIdx 1517 send hb to peers [1 2 3 4 5] 1516 1516 1516 1516
[5] with lastIdx 1526 send hb to peers [1 2 3 4 5] 1526 1526 1526 1526
read from clients 4
[5] with lastIdx 1535 send hb to peers [1 2 3 4 5] 1534 1534 1534 1534
[5] with lastIdx 1543 send hb to peers [1 2 3 4 5] 1542 1542 1542 1542
[5] with lastIdx 1551 send hb to peers [1 2 3 4 5] 1550 1550 1550 1550
[5] with lastIdx 1561 send hb to peers [1 2 3 4 5] 1560 1560 1560 1560
[5] with lastIdx 1572 send hb to peers [1 2 3 4 5] 1572 1572 1572 1572
[5] with lastIdx 1581 send hb to peers [1 2 3 4 5] 1581 1581 1581 1581
[5] with lastIdx 1581 send hb to peers [1 2 3 4 5] 1581 1581 1581 1581
[5] with lastIdx 1581 send hb to peers [1 2 3 4 5] 1581 1581 1581 1581
[5] with lastIdx 1581 send hb to peers [1 2 3 4 5] 1581 1581 1581 1581
[5] with lastIdx 1581 send hb to peers [1 2 3 4 5] 1581 1581 1581 1581
[5] with lastIdx 1581 send hb to peers [1 2 3 4 5] 1581 1581 1581 1581
[5] with lastIdx 1581 send hb to peers [1 2 3 4 5] 1581 1581 1581 1581
[5] with lastIdx 1581 send hb to peers [1 2 3 4 5] 1581 1581 1581 1581
[5] with lastIdx 1581 send hb to peers [1 2 3 4 5] 1581 1581 1581 1581
[5] with lastIdx 1581 send hb to peers [1 2 3 4 5] 1581 1581 1581 1581
[5] with lastIdx 1594 send hb to peers [1 2 3 4 5] 1592 1591 1592 1592
[5] with lastIdx 1621 send hb to peers [1 2 3 4 5] 1618 1617 1617 1617
[5] with lastIdx 1644 send hb to peers [1 2 3 4 5] 1642 1642 1642 1642
[5] with lastIdx 1664 send hb to peers [1 2 3 4 5] 1662 1662 1661 1662
[5] with lastIdx 1680 send hb to peers [1 2 3 4 5] 1676 1679 1677 1678
[5] with lastIdx 1698 send hb to peers [1 2 3 4 5] 1696 1697 1696 1697
[5] with lastIdx 1723 send hb to peers [1 2 3 4 5] 1722 1721 1722 1722
[5] with lastIdx 1747 send hb to peers [1 2 3 4 5] 1742 1746 1742 1746
[5] with lastIdx 1777 send hb to peers [1 2 3 4 5] 1772 1771 1770 1775
[5] with lastIdx 1777 send hb to peers [1 2 3 4 5] 1772 1771 1770 1777
[5] with lastIdx 1777 send hb to peers [1 2 3 4 5] 1772 1771 1770 1777
[5] with lastIdx 1777 send hb to peers [1 2 3 4 5] 1772 1771 1770 1777
[5] with lastIdx 1777 send hb to peers [1 2 3 4 5] 1772 1771 1770 1777
[5] with lastIdx 1777 send hb to peers [1 2 3 4 5] 1772 1771 1770 1777
[5] with lastIdx 1782 send hb to peers [1 2 3 4 5] 1782 1771 1770 1777
[5] with lastIdx 1782 send hb to peers [1 2 3 4 5] 1782 1771 1770 1777
[5] with lastIdx 1782 send hb to peers [1 2 3 4 5] 1782 1771 1770 1777
[5] with lastIdx 1782 send hb to peers [1 2 3 4 5] 1782 1771 1770 1777
[5] with lastIdx 1782 send hb to peers [1 2 3 4 5] 1782 1771 1770 1777
[1] becomes leader
[1] with lastIdx 1783 send hb to peers [1 2 3 4 5] 1299 1299 1299 1299
[2] receives snapshot from [1]
[1] with lastIdx 1788 send hb to peers [1 2 3 4 5] 1788 1299 1299 1299
[1] with lastIdx 1788 send hb to peers [1 2 3 4 5] 1788 1299 1299 1299
[1] with lastIdx 1788 send hb to peers [1 2 3 4 5] 1788 1788 1788 1299
[1] with lastIdx 1788 send hb to peers [1 2 3 4 5] 1788 1788 1788 1299
[1] with lastIdx 1788 send hb to peers [1 2 3 4 5] 1788 1788 1788 1788
[1] with lastIdx 1788 send hb to peers [1 2 3 4 5] 1788 1788 1788 1788
read from clients 0
[3] becomes leader
read from clients 1
[3] with lastIdx 1813 send hb to peers [1 2 3 4 5] 1812 1812 1812 1812
read from clients 2
[3] with lastIdx 1847 send hb to peers [1 2 3 4 5] 1846 1846 1846 1846
read from clients 3
[3] with lastIdx 1876 send hb to peers [1 2 3 4 5] 1876 1875 1875 1875
read from clients 4
[3] with lastIdx 1890 send hb to peers [1 2 3 4 5] 1889 1890 1890 1890
[3] with lastIdx 1897 send hb to peers [1 2 3 4 5] 1897 1897 1897 1897
[3] with lastIdx 1897 send hb to peers [1 2 3 4 5] 1897 1897 1897 1897
[3] with lastIdx 1897 send hb to peers [1 2 3 4 5] 1897 1897 1897 1897
[3] with lastIdx 1897 send hb to peers [1 2 3 4 5] 1897 1897 1897 1897
[3] with lastIdx 1897 send hb to peers [1 2 3 4 5] 1897 1897 1897 1897
[3] with lastIdx 1897 send hb to peers [1 2 3 4 5] 1897 1897 1897 1897
[3] with lastIdx 1897 send hb to peers [1 2 3 4 5] 1897 1897 1897 1897
[3] with lastIdx 1897 send hb to peers [1 2 3 4 5] 1897 1897 1897 1897
[3] with lastIdx 1897 send hb to peers [1 2 3 4 5] 1897 1897 1897 1897
[3] with lastIdx 1897 send hb to peers [1 2 3 4 5] 1897 1897 1897 1897
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (33.57s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.663s
