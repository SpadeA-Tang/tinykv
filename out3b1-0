GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
[1] becomes leader
[1] with lastIdx 6 send hb to peers [5 1 2 3 4] 6 6 6 6
[1] with lastIdx 6 send hb to peers [5 1 2 3 4] 6 6 6 6
[1] with lastIdx 21 send hb to peers [5 1 2 3 4] 17 17 17 16
[1] with lastIdx 33 send hb to peers [5 1 2 3 4] 28 32 32 32
[1] with lastIdx 48 send hb to peers [5 1 2 3 4] 43 44 47 47
[1] with lastIdx 57 send hb to peers [5 1 2 3 4] 48 52 54 52
[1] with lastIdx 57 send hb to peers [5 1 2 3 4] 48 52 54 52
[1] with lastIdx 57 send hb to peers [5 1 2 3 4] 48 52 54 52
[1] with lastIdx 57 send hb to peers [5 1 2 3 4] 48 52 57 52
[1] with lastIdx 57 send hb to peers [5 1 2 3 4] 48 52 57 52
[2] becomes leader
[1] with lastIdx 57 send hb to peers [5 1 2 3 4] 48 52 57 52
[2] with lastIdx 54 send hb to peers [5 1 2 3 4] 54 5 5 54
[1] with lastIdx 57 send hb to peers [5 1 2 3 4] 48 52 57 52
[2] with lastIdx 54 send hb to peers [5 1 2 3 4] 54 5 5 54
[2] with lastIdx 54 send hb to peers [5 1 2 3 4] 54 5 5 54
[2] with lastIdx 54 send hb to peers [5 1 2 3 4] 54 5 5 54
[2] with lastIdx 57 send hb to peers [5 1 2 3 4] 54 57 55 57
[2] with lastIdx 84 send hb to peers [5 1 2 3 4] 54 82 82 81
[2] with lastIdx 113 send hb to peers [5 1 2 3 4] 54 111 110 111
[2] with lastIdx 149 send hb to peers [5 1 2 3 4] 54 146 117 146
[2] with lastIdx 181 send hb to peers [5 1 2 3 4] 54 177 117 177
[2] with lastIdx 213 send hb to peers [5 1 2 3 4] 54 210 117 209
[2] with lastIdx 248 send hb to peers [5 1 2 3 4] 54 245 117 243
[2] with lastIdx 283 send hb to peers [5 1 2 3 4] 54 280 117 280
[2] with lastIdx 306 send hb to peers [5 1 2 3 4] 54 302 117 303
[2] with lastIdx 310 send hb to peers [5 1 2 3 4] 54 310 117 306
[2] with lastIdx 310 send hb to peers [5 1 2 3 4] 54 310 117 306
[2] with lastIdx 310 send hb to peers [5 1 2 3 4] 54 310 117 306
[2] with lastIdx 310 send hb to peers [5 1 2 3 4] 54 310 117 306
[2] with lastIdx 310 send hb to peers [5 1 2 3 4] 54 310 117 306
[2] with lastIdx 310 send hb to peers [5 1 2 3 4] 54 310 117 306
[2] with lastIdx 310 send hb to peers [5 1 2 3 4] 54 310 117 306
[2] with lastIdx 310 send hb to peers [5 1 2 3 4] 54 310 117 306
[2] with lastIdx 310 send hb to peers [5 1 2 3 4] 54 310 117 306
[2] with lastIdx 311 send hb to peers [5 1 2 3 4] 54 310 117 306
[2] with lastIdx 315 send hb to peers [5 1 2 3 4] 54 310 117 306
[2] with lastIdx 315 send hb to peers [5 1 2 3 4] 54 310 117 306
[2] with lastIdx 315 send hb to peers [5 1 2 3 4] 54 310 117 306
[4] becomes leader
[4] with lastIdx 308 send hb to peers [5 1 2 3 4] 5 5 5 5
[5] receives snapshot from [4]
[4] with lastIdx 313 send hb to peers [5 1 2 3 4] 313 313 5 5
[3] receives snapshot from [4]
[4] with lastIdx 313 send hb to peers [5 1 2 3 4] 313 313 5 5
[4] with lastIdx 313 send hb to peers [5 1 2 3 4] 313 313 5 313
read from clients 0
[3] becomes leader
[3] with lastIdx 324 send hb to peers [5 1 2 3 4] 324 324 324 324
[3] with lastIdx 335 send hb to peers [5 1 2 3 4] 334 335 334 335
[3] with lastIdx 344 send hb to peers [5 1 2 3 4] 343 343 343 343
read from clients 1
[3] with lastIdx 351 send hb to peers [5 1 2 3 4] 350 351 351 350
[3] with lastIdx 360 send hb to peers [5 1 2 3 4] 359 359 359 359
[3] with lastIdx 368 send hb to peers [5 1 2 3 4] 367 367 367 367
[3] with lastIdx 376 send hb to peers [5 1 2 3 4] 375 375 374 375
[3] with lastIdx 382 send hb to peers [5 1 2 3 4] 381 381 382 382
read from clients 2
[3] with lastIdx 389 send hb to peers [5 1 2 3 4] 388 388 388 388
[3] with lastIdx 395 send hb to peers [5 1 2 3 4] 394 394 394 394
[3] with lastIdx 401 send hb to peers [5 1 2 3 4] 400 400 400 400
[3] with lastIdx 406 send hb to peers [5 1 2 3 4] 405 405 405 405
[3] with lastIdx 411 send hb to peers [5 1 2 3 4] 411 410 411 411
read from clients 3
[3] with lastIdx 417 send hb to peers [5 1 2 3 4] 416 416 416 416
[3] with lastIdx 422 send hb to peers [5 1 2 3 4] 421 421 421 421
[3] with lastIdx 428 send hb to peers [5 1 2 3 4] 427 427 427 427
[3] with lastIdx 433 send hb to peers [5 1 2 3 4] 432 432 432 432
read from clients 4
[3] with lastIdx 438 send hb to peers [5 1 2 3 4] 438 438 437 437
[3] with lastIdx 443 send hb to peers [5 1 2 3 4] 442 442 442 442
[3] with lastIdx 449 send hb to peers [5 1 2 3 4] 447 448 448 448
[3] with lastIdx 453 send hb to peers [5 1 2 3 4] 452 452 453 452
[3] with lastIdx 458 send hb to peers [5 1 2 3 4] 457 457 457 457
[3] with lastIdx 463 send hb to peers [5 1 2 3 4] 462 462 462 462
[3] with lastIdx 467 send hb to peers [5 1 2 3 4] 467 466 466 467
[3] with lastIdx 472 send hb to peers [5 1 2 3 4] 471 471 471 471
[3] with lastIdx 477 send hb to peers [5 1 2 3 4] 476 476 476 476
[3] with lastIdx 479 send hb to peers [5 1 2 3 4] 479 479 479 479
[3] with lastIdx 479 send hb to peers [5 1 2 3 4] 479 479 479 479
[3] with lastIdx 479 send hb to peers [5 1 2 3 4] 479 479 479 479
[3] with lastIdx 479 send hb to peers [5 1 2 3 4] 479 479 479 479
[3] with lastIdx 479 send hb to peers [5 1 2 3 4] 479 479 479 479
[3] with lastIdx 479 send hb to peers [5 1 2 3 4] 479 479 479 479
[3] with lastIdx 479 send hb to peers [5 1 2 3 4] 479 479 479 479
[3] with lastIdx 479 send hb to peers [5 1 2 3 4] 479 479 479 479
[3] with lastIdx 479 send hb to peers [5 1 2 3 4] 479 479 479 479
[3] with lastIdx 479 send hb to peers [5 1 2 3 4] 479 479 479 479
[3] with lastIdx 494 send hb to peers [5 1 2 3 4] 490 490 490 490
[3] with lastIdx 505 send hb to peers [5 1 2 3 4] 504 504 504 504
[3] with lastIdx 526 send hb to peers [5 1 2 3 4] 521 523 521 523
[3] with lastIdx 548 send hb to peers [5 1 2 3 4] 538 538 544 543
[3] with lastIdx 564 send hb to peers [5 1 2 3 4] 538 538 563 563
[3] with lastIdx 581 send hb to peers [5 1 2 3 4] 538 538 579 579
[3] with lastIdx 599 send hb to peers [5 1 2 3 4] 538 538 597 596
[3] with lastIdx 618 send hb to peers [5 1 2 3 4] 538 538 615 616
[3] with lastIdx 637 send hb to peers [5 1 2 3 4] 538 538 635 635
[4] becomes leader
[5] receives snapshot from [4]
[1] receives snapshot from [4]
[4] with lastIdx 655 send hb to peers [5 1 2 3 4] 654 654 654 224
[4] with lastIdx 668 send hb to peers [5 1 2 3 4] 664 664 665 224
[4] with lastIdx 687 send hb to peers [5 1 2 3 4] 684 685 685 224
[4] with lastIdx 707 send hb to peers [5 1 2 3 4] 705 705 705 224
[4] with lastIdx 726 send hb to peers [5 1 2 3 4] 724 721 724 224
[4] with lastIdx 741 send hb to peers [5 1 2 3 4] 738 737 738 224
[4] with lastIdx 760 send hb to peers [5 1 2 3 4] 757 758 758 224
[4] with lastIdx 778 send hb to peers [5 1 2 3 4] 775 774 775 224
[4] with lastIdx 794 send hb to peers [5 1 2 3 4] 790 790 789 224
[4] with lastIdx 813 send hb to peers [5 1 2 3 4] 808 811 811 224
[4] with lastIdx 817 send hb to peers [5 1 2 3 4] 811 812 817 224
[4] with lastIdx 817 send hb to peers [5 1 2 3 4] 811 812 817 224
[4] with lastIdx 817 send hb to peers [5 1 2 3 4] 811 812 817 224
[4] with lastIdx 817 send hb to peers [5 1 2 3 4] 811 812 817 224
[4] with lastIdx 817 send hb to peers [5 1 2 3 4] 811 812 817 224
[4] with lastIdx 817 send hb to peers [5 1 2 3 4] 811 812 817 224
[2] becomes leader
[2] with lastIdx 818 send hb to peers [5 1 2 3 4] 224 224 224 224
[2] with lastIdx 823 send hb to peers [5 1 2 3 4] 823 224 224 224
[3] receives snapshot from [2]
[4] receives snapshot from [2]
[2] with lastIdx 859 send hb to peers [5 1 2 3 4] 857 847 857 856
[2] with lastIdx 887 send hb to peers [5 1 2 3 4] 883 847 884 884
[2] with lastIdx 916 send hb to peers [5 1 2 3 4] 914 847 912 914
[2] with lastIdx 942 send hb to peers [5 1 2 3 4] 940 847 938 941
[2] with lastIdx 974 send hb to peers [5 1 2 3 4] 972 847 970 970
[2] with lastIdx 997 send hb to peers [5 1 2 3 4] 994 847 993 992
[2] with lastIdx 1020 send hb to peers [5 1 2 3 4] 1016 847 1017 1016
[2] with lastIdx 1027 send hb to peers [5 1 2 3 4] 1026 847 1022 1022
[2] with lastIdx 1027 send hb to peers [5 1 2 3 4] 1026 847 1022 1022
[2] with lastIdx 1027 send hb to peers [5 1 2 3 4] 1026 847 1022 1022
[2] with lastIdx 1027 send hb to peers [5 1 2 3 4] 1026 847 1022 1022
[2] with lastIdx 1027 send hb to peers [5 1 2 3 4] 1026 847 1022 1022
[2] with lastIdx 1027 send hb to peers [5 1 2 3 4] 1026 847 1022 1022
[4] becomes leader
[4] with lastIdx 1024 send hb to peers [5 1 2 3 4] 846 846 846 846
[1] receives snapshot from [4]
read from clients 0
[1] becomes leader
[1] with lastIdx 1063 send hb to peers [5 1 2 3 4] 1063 1062 1062 1063
read from clients 1
[1] with lastIdx 1089 send hb to peers [5 1 2 3 4] 1089 1089 1089 1088
[1] with lastIdx 1109 send hb to peers [5 1 2 3 4] 1108 1108 1108 1108
[1] with lastIdx 1127 send hb to peers [5 1 2 3 4] 1126 1126 1126 1126
read from clients 2
[1] with lastIdx 1146 send hb to peers [5 1 2 3 4] 1145 1145 1145 1145
[1] with lastIdx 1164 send hb to peers [5 1 2 3 4] 1163 1163 1163 1163
[1] with lastIdx 1183 send hb to peers [5 1 2 3 4] 1182 1182 1182 1182
read from clients 3
[1] with lastIdx 1201 send hb to peers [5 1 2 3 4] 1200 1200 1200 1200
[1] with lastIdx 1219 send hb to peers [5 1 2 3 4] 1218 1218 1218 1218
[1] with lastIdx 1237 send hb to peers [5 1 2 3 4] 1236 1237 1237 1237
read from clients 4
[1] with lastIdx 1255 send hb to peers [5 1 2 3 4] 1255 1255 1255 1255
[1] with lastIdx 1270 send hb to peers [5 1 2 3 4] 1269 1269 1269 1269
[1] with lastIdx 1280 send hb to peers [5 1 2 3 4] 1280 1280 1279 1280
[1] with lastIdx 1293 send hb to peers [5 1 2 3 4] 1293 1293 1293 1293
[1] with lastIdx 1303 send hb to peers [5 1 2 3 4] 1303 1303 1303 1303
[1] with lastIdx 1303 send hb to peers [5 1 2 3 4] 1303 1303 1303 1303
[1] with lastIdx 1303 send hb to peers [5 1 2 3 4] 1303 1303 1303 1303
[1] with lastIdx 1303 send hb to peers [5 1 2 3 4] 1303 1303 1303 1303
[1] with lastIdx 1303 send hb to peers [5 1 2 3 4] 1303 1303 1303 1303
[1] with lastIdx 1303 send hb to peers [5 1 2 3 4] 1303 1303 1303 1303
[1] with lastIdx 1303 send hb to peers [5 1 2 3 4] 1303 1303 1303 1303
[1] with lastIdx 1303 send hb to peers [5 1 2 3 4] 1303 1303 1303 1303
[1] with lastIdx 1303 send hb to peers [5 1 2 3 4] 1303 1303 1303 1303
[1] with lastIdx 1303 send hb to peers [5 1 2 3 4] 1303 1303 1303 1303
[1] with lastIdx 1308 send hb to peers [5 1 2 3 4] 1303 1303 1303 1303
[1] with lastIdx 1328 send hb to peers [5 1 2 3 4] 1326 1326 1326 1326
[1] with lastIdx 1351 send hb to peers [5 1 2 3 4] 1349 1349 1349 1349
[1] with lastIdx 1374 send hb to peers [5 1 2 3 4] 1372 1373 1373 1372
[1] with lastIdx 1395 send hb to peers [5 1 2 3 4] 1390 1390 1391 1372
[1] with lastIdx 1416 send hb to peers [5 1 2 3 4] 1411 1412 1412 1372
[1] with lastIdx 1435 send hb to peers [5 1 2 3 4] 1433 1433 1433 1372
[1] with lastIdx 1456 send hb to peers [5 1 2 3 4] 1455 1452 1453 1372
[1] with lastIdx 1476 send hb to peers [5 1 2 3 4] 1472 1473 1473 1372
[1] with lastIdx 1496 send hb to peers [5 1 2 3 4] 1491 1491 1491 1372
[1] with lastIdx 1498 send hb to peers [5 1 2 3 4] 1493 1493 1496 1372
[4] receives snapshot from [1]
[1] with lastIdx 1498 send hb to peers [5 1 2 3 4] 1493 1493 1496 1372
[1] with lastIdx 1498 send hb to peers [5 1 2 3 4] 1493 1493 1496 1372
[1] with lastIdx 1498 send hb to peers [5 1 2 3 4] 1493 1493 1496 1498
[1] with lastIdx 1498 send hb to peers [5 1 2 3 4] 1493 1493 1496 1498
[1] with lastIdx 1498 send hb to peers [5 1 2 3 4] 1493 1493 1496 1498
[1] with lastIdx 1503 send hb to peers [5 1 2 3 4] 1493 1503 1496 1498
[1] with lastIdx 1503 send hb to peers [5 1 2 3 4] 1493 1503 1496 1498
[1] with lastIdx 1503 send hb to peers [5 1 2 3 4] 1493 1503 1496 1498
[1] with lastIdx 1503 send hb to peers [5 1 2 3 4] 1493 1503 1496 1498
[1] with lastIdx 1503 send hb to peers [5 1 2 3 4] 1493 1503 1496 1498
[1] with lastIdx 1503 send hb to peers [5 1 2 3 4] 1493 1503 1496 1498
[1] becomes leader
[1] with lastIdx 1528 send hb to peers [5 1 2 3 4] 1523 1524 1525 1524
[1] with lastIdx 1546 send hb to peers [5 1 2 3 4] 1530 1541 1543 1544
[1] with lastIdx 1569 send hb to peers [5 1 2 3 4] 1530 1566 1566 1566
[1] with lastIdx 1591 send hb to peers [5 1 2 3 4] 1530 1590 1586 1589
[1] with lastIdx 1609 send hb to peers [5 1 2 3 4] 1530 1605 1605 1605
[1] with lastIdx 1627 send hb to peers [5 1 2 3 4] 1530 1625 1625 1624
[1] with lastIdx 1645 send hb to peers [5 1 2 3 4] 1530 1641 1630 1641
[1] with lastIdx 1676 send hb to peers [5 1 2 3 4] 1530 1676 1630 1675
[1] with lastIdx 1708 send hb to peers [5 1 2 3 4] 1530 1705 1630 1705
[1] with lastIdx 1737 send hb to peers [5 1 2 3 4] 1530 1733 1630 1733
[1] with lastIdx 1747 send hb to peers [5 1 2 3 4] 1530 1747 1630 1747
[1] with lastIdx 1747 send hb to peers [5 1 2 3 4] 1530 1747 1630 1747
read from clients 0
[2] becomes leader
[2] with lastIdx 1754 send hb to peers [5 1 2 3 4] 1656 1754 1656 1754
[5] receives snapshot from [2]
[2] with lastIdx 1764 send hb to peers [5 1 2 3 4] 1656 1763 1656 1763
[3] receives snapshot from [2]
[2] with lastIdx 1769 send hb to peers [5 1 2 3 4] 1768 1768 1768 1768
[2] with lastIdx 1774 send hb to peers [5 1 2 3 4] 1773 1773 1773 1773
[2] with lastIdx 1779 send hb to peers [5 1 2 3 4] 1778 1778 1778 1778
[2] with lastIdx 1785 send hb to peers [5 1 2 3 4] 1784 1784 1783 1784
[2] with lastIdx 1790 send hb to peers [5 1 2 3 4] 1790 1790 1790 1790
read from clients 1
[2] with lastIdx 1799 send hb to peers [5 1 2 3 4] 1798 1798 1798 1798
[2] with lastIdx 1808 send hb to peers [5 1 2 3 4] 1807 1807 1807 1807
[2] with lastIdx 1819 send hb to peers [5 1 2 3 4] 1817 1818 1818 1818
[2] with lastIdx 1827 send hb to peers [5 1 2 3 4] 1826 1827 1826 1826
[2] with lastIdx 1839 send hb to peers [5 1 2 3 4] 1838 1838 1838 1838
read from clients 2
[2] with lastIdx 1854 send hb to peers [5 1 2 3 4] 1853 1853 1853 1853
[2] with lastIdx 1870 send hb to peers [5 1 2 3 4] 1870 1869 1869 1869
[2] with lastIdx 1886 send hb to peers [5 1 2 3 4] 1885 1885 1885 1885
[2] with lastIdx 1896 send hb to peers [5 1 2 3 4] 1895 1895 1896 1895
read from clients 3
[2] with lastIdx 1912 send hb to peers [5 1 2 3 4] 1911 1911 1911 1911
[2] with lastIdx 1928 send hb to peers [5 1 2 3 4] 1927 1927 1927 1927
read from clients 4
[2] with lastIdx 1942 send hb to peers [5 1 2 3 4] 1941 1941 1941 1941
[2] with lastIdx 1953 send hb to peers [5 1 2 3 4] 1952 1952 1952 1952
[2] with lastIdx 1970 send hb to peers [5 1 2 3 4] 1969 1969 1969 1969
[2] with lastIdx 1983 send hb to peers [5 1 2 3 4] 1983 1982 1983 1983
[2] with lastIdx 1991 send hb to peers [5 1 2 3 4] 1991 1991 1991 1991
[2] with lastIdx 1991 send hb to peers [5 1 2 3 4] 1991 1991 1991 1991
[2] with lastIdx 1991 send hb to peers [5 1 2 3 4] 1991 1991 1991 1991
[2] with lastIdx 1991 send hb to peers [5 1 2 3 4] 1991 1991 1991 1991
[2] with lastIdx 1991 send hb to peers [5 1 2 3 4] 1991 1991 1991 1991
[2] with lastIdx 1991 send hb to peers [5 1 2 3 4] 1991 1991 1991 1991
[2] with lastIdx 1991 send hb to peers [5 1 2 3 4] 1991 1991 1991 1991
[2] with lastIdx 1991 send hb to peers [5 1 2 3 4] 1991 1991 1991 1991
[2] with lastIdx 1991 send hb to peers [5 1 2 3 4] 1991 1991 1991 1991
[2] with lastIdx 1991 send hb to peers [5 1 2 3 4] 1991 1991 1991 1991
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (32.70s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.808s
